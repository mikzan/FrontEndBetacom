<div class="container-fluid d-flex flex-column container-filtri container">
  <!-- Loader: Mostra durante il caricamento -->
  <app-loader *ngIf="isLoading"></app-loader>

  <!-- Caso in cui la wishlist non esiste o è vuota -->
  <div *ngIf="wishlistNonEsiste && !isLoading" class="empty-wishlist">
    <p>La tua wishlist non esiste ancora. Aggiungi un <a routerLink="/prodotti">prodotto</a> per crearla!</p>
  </div>

  <!-- Caso in cui la wishlist esiste ma è vuota -->
  <div *ngIf="!wishlistNonEsiste && wishlist.length === 0 && !isLoading" class="empty-wishlist">
    <p>La tua wishlist è vuota. Aggiungi <a routerLink="/prodotti">prodotti</a>!</p>
  </div>

  <!-- Bottone 'Clear All Wishlist' mostrato solo se la wishlist ha prodotti -->
  <div *ngIf="wishlist.length > 0" class="clear-wishlist-btn-container">
    <button (click)="clearAllFromWishlist()">Clear All Wishlist</button>
  </div>

  <!-- Mostra la wishlist solo se ci sono prodotti -->
  <div class="row g-4 main-content" *ngIf="wishlist?.length > 0">
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4" *ngFor="let prodotto of wishlist; trackBy: trackById">
      <app-card [prodotto]="prodotto" [responsive]="false" [cartBadge]="cartBadge">
        <div id="card-buttons">
          <button mat-fab extended (click)="removeFromWishlist(prodotto)">Rimuovi dalla Wishlist</button>
          <button mat-fab extended (click)="addToCarrello(prodotto)">Aggiungi al Carrello</button>
        </div>
      </app-card>
    </div>
  </div>
</div>
